package com.ComputerNetwork;

import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.KeyEvent;
import java.awt.event.KeyListener;
import java.awt.event.WindowAdapter;
import java.awt.event.WindowEvent;
import java.io.BufferedReader;
import java.io.ByteArrayInputStream;
import java.io.ByteArrayOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.io.OutputStream;
import java.io.PrintStream;
import java.net.DatagramPacket;
import java.net.DatagramSocket;
import java.net.InetAddress;
import java.net.ServerSocket;
import java.net.Socket;
import java.util.HashMap;
import java.util.Map;
import java.util.Scanner;

import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JTextArea;



public class MyServer{
	private int port = 9999;
	private Map<String,Socket> usersMap = new HashMap<String,Socket>();
	private void startServer(){
		try {
			ServerSocket server = new ServerSocket(port);
			System.out.println("服务器启动"+server);
			new ServerThread(server).start();
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		
	}
	class ServerThread extends Thread{
		private ServerSocket server;
		public ServerThread(ServerSocket server){
			this.server = server;
		}
		public void run(){
			while(true){
				try{
					Socket cSocket = server.accept();
					Scanner sc = new Scanner(cSocket.getInputStream());
					if(sc.hasNextLine()){
						String userName = sc.nextLine();
						System.out.println("\r\n用户："+userName+"登录,"+cSocket);
						new ClientThread(cSocket).start();
						usersMap.put(userName, cSocket);
					}
				}catch(IOException e){
					e.printStackTrace();
				}
			}
		}
	}
	private 
}